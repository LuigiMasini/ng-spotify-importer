<h1>{{title}}</h1>

<div *ngIf="spotifySvc.hasAuthenticated(); else logIntoSpotify">
  <dl>
    <dt>User ID</dt>
    <dd>{{spotifyUserId}}</dd>
  </dl>

  <input (change)="handleFileInput($event)" type="file" id="fileInput"/>

  <h2>Songs <span *ngIf="playlistName">- {{playlistName}}</span></h2>

  <pre *ngIf="songsUnmatched.length > 0">
    Unmatched Songs ({{songsUnmatched.length}}):
    <ng-container *ngFor="let song of songsUnmatched">
      &lt;song title="{{song.title}}" artistName="{{song.artist}}"/&gt;</ng-container>
  </pre>

  <table id="song-data">
    <tr *ngFor="let song of songs">
      <td class="song-title">{{song.title}}</td>
      <td class="song-artist">{{song.artist}}
        <a *ngIf="song.externalUrl" href="{{song.externalUrl}}" target="_blank">[open]</a>
      </td>
      <td class="song-preview">
        <audio controls *ngIf="song.previewUrl">
          <source src="{{song.previewUrl}}">
        </audio>
      </td>
    </tr>
  </table>
</div>

<ng-template #logIntoSpotify>
  <p><a href="{{spotifyAuthUrl}}">Grant</a> access to your Spotify account.</p>
</ng-template>
